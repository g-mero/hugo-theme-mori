{{ define "main" }}
  <section>
    {{ partial "page-header.html" (dict "context" . "title" .Title "badge" "Section" "meta" (printf `<span>Total %d pages</span>` (len .RegularPagesRecursive) | safeHTML)) }}

    {{ with .Content }}
      <div class="prose mb-md">
        {{ . }}
      </div>
    {{ end }}
  </section>

  {{ $paginator := .Paginate .RegularPagesRecursive }}
  <section class="mt-md md:mt-lg">
    <ul class="list-none p-0 m-0">
      {{ range $paginator.Pages }}
        <li class="flex flex-col gap-1 mb-md md:flex-row md:items-baseline md:gap-sm md:mb-sm">
          <time class="fs-sm c-fg3 font-mono md:flex-shrink-0 md:min-w-100px" datetime="{{ .Date.Format "2006-01-02" }}">
            {{ .Date.Format "2006-01-02" }}
          </time>
          <a class="flex-1 c-fg2 border-b border-fg2 hover:border-transparent" href="{{ .RelPermalink }}">{{ .LinkTitle }}</a>
        </li>
      {{ end }}
    </ul>

    {{ partial "pagination.html" $paginator }}
  </section>
{{ end }}
