(function(){function e(e,t,n=!1){return e[`querySelector${n?`All`:``}`](t)}function t(t,n=document){return e(n,t)}function n(e){return window[`${e?`local`:`session`}Storage`]}function r(e,t,r){let i=n(t);return[()=>{let t=i.getItem(e),n=r==null?null:r;if(t===null)return n;try{return JSON.parse(t)}catch(e){return n}},t=>{t===null?i.removeItem(e):i.setItem(e,JSON.stringify(t))}]}function i(e,t){return r(e,!1,t)}function a(e,t){return r(e,!0,t)}function o(e){return Array.isArray(e)}function s(...e){let t,n,r,i;typeof e[0]==`string`||o(e[0])?([n,r,i]=e,t=window):[t,n,r,i]=e;let a=o(n)?n:[n],s=o(r)?r:[r],c=[];for(let e of a)for(let n of s)t.addEventListener(e,n,i),c.push(()=>t.removeEventListener(e,n,i));return()=>{for(let e of c)e()}}function c(e){return window.location[e]}function l(){let e=t(`#back-anchor`),[n,r]=i(`prev-path`),a=n(),o=c(`pathname`);if(!e||a===o){r(``);return}if(!a){r(o);return}s(e,`click`,e=>{e.preventDefault(),window.history.back()})}let[u,d]=a(`theme`,`light`);function f(){return`startViewTransition`in document&&typeof document.startViewTransition==`function`}function p(e,n=!1,r,i){let a=e===`dark`;n&&f()&&r!==void 0&&i!==void 0?document.startViewTransition(()=>{document.documentElement.classList.toggle(`dark`,a)}).ready.then(()=>{let e=Math.hypot(Math.max(r,innerWidth-r),Math.max(i,innerHeight-i)),t=[`circle(0% at ${r}px ${i}px)`,`circle(${e}px at ${r}px ${i}px)`];document.documentElement.animate({clipPath:a?t.reverse():t},{duration:350,pseudoElement:a?`::view-transition-old(root)`:`::view-transition-new(root)`,easing:`ease-in-out`,fill:`both`})}):document.documentElement.classList.toggle(`dark`,a);let o=t(`#theme-switcher`);o&&(o.classList.toggle(`i-moon-fill`,!a),o.classList.toggle(`i-sun-fill`,a)),d(e),window.dispatchEvent(new CustomEvent(`theme-change`,{detail:{theme:e}}))}function m(){p(u()===`dark`?`dark`:`light`)}function h(){let e=t(`#theme-switcher`);e&&s(e,`click`,e=>{p(u()===`dark`?`light`:`dark`,!0,e.clientX,e.clientY)})}s(`DOMContentLoaded`,()=>{l(),m(),h()})})();